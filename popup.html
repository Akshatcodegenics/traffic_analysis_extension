<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traffic Analyzer Pro</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container" id="app">
        <!-- Theme Toggle -->
        <button class="theme-toggle" id="themeToggle">
            <i class="fas fa-moon" id="themeIcon"></i>
        </button>

        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-route gradient-icon"></i>
                    <span class="logo-text">TrafficPro</span>
                </div>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item active" data-view="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </li>
                <li class="nav-item" data-view="heatmap">
                    <i class="fas fa-fire"></i>
                    <span>Traffic Heatmap</span>
                </li>
                <li class="nav-item" data-view="routes">
                    <i class="fas fa-directions"></i>
                    <span>Smart Routes</span>
                </li>
                <li class="nav-item" data-view="analytics">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </li>
                <li class="nav-item" data-view="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </li>
            </ul>

            <div class="sidebar-footer">
                <div class="status-indicator">
                    <div class="status-dot online"></div>
                    <span>Live Data</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View -->
            <div class="view dashboard-view active" id="dashboardView">
                <header class="view-header">
                    <h1 class="page-title">Traffic Dashboard</h1>
                    <div class="header-actions">
                        <button class="refresh-btn" id="refreshData">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                        <div class="location-selector">
                            <i class="fas fa-map-marker-alt"></i>
                            <select id="locationSelect">
                                <option value="current">Current Location</option>
                                <option value="home">Home</option>
                                <option value="work">Work</option>
                            </select>
                        </div>
                    </div>
                </header>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-value" data-counter="15">15</h3>
                            <p class="stat-label">Avg. Travel Time</p>
                            <span class="stat-unit">minutes</span>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-down"></i>
                            <span>-2 min</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-road"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-value" data-counter="78">78</h3>
                            <p class="stat-label">Traffic Index</p>
                            <span class="stat-unit">% congestion</span>
                        </div>
                        <div class="stat-trend negative">
                            <i class="fas fa-arrow-up"></i>
                            <span>+5%</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-route"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-value" data-counter="4">4</h3>
                            <p class="stat-label">Active Routes</p>
                            <span class="stat-unit">monitored</span>
                        </div>
                        <div class="stat-trend neutral">
                            <i class="fas fa-minus"></i>
                            <span>No change</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-value" data-counter="2">2</h3>
                            <p class="stat-label">Traffic Alerts</p>
                            <span class="stat-unit">active</span>
                        </div>
                        <div class="stat-trend warning">
                            <i class="fas fa-bell"></i>
                            <span>New</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="action-btn primary">
                        <i class="fas fa-play"></i>
                        Start Commute
                    </button>
                    <button class="action-btn secondary">
                        <i class="fas fa-plus"></i>
                        Add Route
                    </button>
                </div>
            </div>

            <!-- Heatmap View -->
            <div class="view heatmap-view" id="heatmapView">
                <header class="view-header">
                    <h1 class="page-title">Traffic Heatmap</h1>
                    <div class="view-controls">
                        <div class="control-group">
                            <label>View Level:</label>
                            <div class="toggle-group" id="viewLevelToggle">
                                <button class="toggle-btn active" data-level="road">Road</button>
                                <button class="toggle-btn" data-level="area">Area</button>
                                <button class="toggle-btn" data-level="city">City</button>
                            </div>
                        </div>
                        <div class="control-group">
                            <label>Time:</label>
                            <select id="timeSelect">
                                <option value="now">Live Now</option>
                                <option value="peak">Peak Hours</option>
                                <option value="prediction">1hr Prediction</option>
                            </select>
                        </div>
                    </div>
                </header>

                <div class="heatmap-container">
                    <div class="map-wrapper">
                        <div id="trafficMap" class="traffic-map">
                            <!-- Dynamic map content will be loaded here -->
                            <div class="map-placeholder">
                                <i class="fas fa-map"></i>
                                <p>Loading traffic heatmap...</p>
                            </div>
                        </div>
                        
                        <!-- Heatmap Legend -->
                        <div class="heatmap-legend">
                            <h4>Traffic Intensity</h4>
                            <div class="legend-items">
                                <div class="legend-item">
                                    <div class="color-indicator smooth"></div>
                                    <span>Smooth (0-30%)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="color-indicator moderate"></div>
                                    <span>Moderate (30-70%)</span>
                                </div>
                                <div class="legend-item">
                                    <div class="color-indicator heavy"></div>
                                    <span>Heavy (70-100%)</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Live Updates Panel -->
                    <div class="updates-panel">
                        <h3>Live Updates</h3>
                        <div class="update-item">
                            <div class="update-icon accident">
                                <i class="fas fa-car-crash"></i>
                            </div>
                            <div class="update-content">
                                <p class="update-title">Accident on Highway 101</p>
                                <p class="update-time">2 minutes ago</p>
                            </div>
                        </div>
                        <div class="update-item">
                            <div class="update-icon construction">
                                <i class="fas fa-hard-hat"></i>
                            </div>
                            <div class="update-content">
                                <p class="update-title">Construction Zone - Main St</p>
                                <p class="update-time">15 minutes ago</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Routes View -->
            <div class="view routes-view" id="routesView">
                <header class="view-header">
                    <h1 class="page-title">Smart Routes</h1>
                    <div class="header-actions">
                        <button class="add-route-btn">
                            <i class="fas fa-plus"></i>
                            Add Route
                        </button>
                    </div>
                </header>

                <!-- Route Input -->
                <div class="route-input-section">
                    <div class="input-group">
                        <div class="location-input">
                            <i class="fas fa-circle start-point"></i>
                            <input type="text" placeholder="From: Current location" id="fromInput">
                        </div>
                        <button class="swap-locations" id="swapBtn">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                        <div class="location-input">
                            <i class="fas fa-map-pin end-point"></i>
                            <input type="text" placeholder="To: Enter destination" id="toInput">
                        </div>
                    </div>
                    <button class="find-routes-btn">
                        <i class="fas fa-search"></i>
                        Find Best Routes
                    </button>
                </div>

                <!-- Pinned Routes -->
                <div class="pinned-routes">
                    <h3>Pinned Routes</h3>
                    <div class="route-cards">
                        <div class="route-card pinned">
                            <div class="route-header">
                                <span class="route-name">Home → Work</span>
                                <button class="unpin-btn">
                                    <i class="fas fa-thumbtack"></i>
                                </button>
                            </div>
                            <div class="route-info">
                                <div class="eta">
                                    <span class="time">22 min</span>
                                    <span class="traffic-status moderate">Moderate</span>
                                </div>
                                <div class="distance">8.4 miles</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Route Suggestions -->
                <div class="route-suggestions" id="routeSuggestions">
                    <h3>Route Options</h3>
                    <div class="route-cards">
                        <div class="route-card recommended">
                            <div class="route-badge">
                                <i class="fas fa-star"></i>
                                AI Recommended
                            </div>
                            <div class="route-header">
                                <span class="route-name">Via Highway 280</span>
                                <div class="route-actions">
                                    <button class="pin-btn" title="Pin Route">
                                        <i class="fas fa-thumbtack"></i>
                                    </button>
                                    <button class="share-btn" title="Share Route">
                                        <i class="fas fa-share"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="route-details">
                                <div class="eta-section">
                                    <div class="current-eta">
                                        <span class="time">18 min</span>
                                        <span class="traffic-status smooth">Light Traffic</span>
                                    </div>
                                    <div class="optimal-time">
                                        <i class="fas fa-lightbulb"></i>
                                        <span>Best departure: 8:45 AM (15 min)</span>
                                    </div>
                                </div>
                                <div class="route-metrics">
                                    <span class="distance"><i class="fas fa-road"></i> 12.3 miles</span>
                                    <span class="fuel"><i class="fas fa-gas-pump"></i> $2.40</span>
                                    <span class="tolls"><i class="fas fa-coins"></i> $1.50</span>
                                </div>
                            </div>
                        </div>

                        <div class="route-card">
                            <div class="route-header">
                                <span class="route-name">Via Local Roads</span>
                                <div class="route-actions">
                                    <button class="pin-btn" title="Pin Route">
                                        <i class="fas fa-thumbtack"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="route-details">
                                <div class="eta-section">
                                    <div class="current-eta">
                                        <span class="time">24 min</span>
                                        <span class="traffic-status moderate">Moderate Traffic</span>
                                    </div>
                                </div>
                                <div class="route-metrics">
                                    <span class="distance"><i class="fas fa-road"></i> 9.8 miles</span>
                                    <span class="fuel"><i class="fas fa-gas-pump"></i> $1.95</span>
                                    <span class="tolls"><i class="fas fa-coins"></i> $0.00</span>
                                </div>
                            </div>
                        </div>

                        <div class="route-card">
                            <div class="route-header">
                                <span class="route-name">Via Highway 101</span>
                                <div class="route-actions">
                                    <button class="pin-btn" title="Pin Route">
                                        <i class="fas fa-thumbtack"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="route-details">
                                <div class="eta-section">
                                    <div class="current-eta">
                                        <span class="time">31 min</span>
                                        <span class="traffic-status heavy">Heavy Traffic</span>
                                    </div>
                                </div>
                                <div class="route-metrics">
                                    <span class="distance"><i class="fas fa-road"></i> 11.7 miles</span>
                                    <span class="fuel"><i class="fas fa-gas-pump"></i> $2.20</span>
                                    <span class="tolls"><i class="fas fa-coins"></i> $3.25</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics View -->
            <div class="view analytics-view" id="analyticsView">
                <header class="view-header">
                    <h1 class="page-title">Traffic Analytics</h1>
                    <div class="time-range-selector">
                        <button class="time-btn active" data-range="1h">1H</button>
                        <button class="time-btn" data-range="6h">6H</button>
                        <button class="time-btn" data-range="1d">1D</button>
                        <button class="time-btn" data-range="1w">1W</button>
                    </div>
                </header>

                <!-- Speed Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Speed & Delay Trends</h3>
                        <div class="chart-controls">
                            <button class="chart-control" data-metric="speed">
                                <i class="fas fa-tachometer-alt"></i>
                                Speed
                            </button>
                            <button class="chart-control active" data-metric="delay">
                                <i class="fas fa-clock"></i>
                                Delays
                            </button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="trafficChart" width="800" height="300"></canvas>
                        <div class="chart-overlay">
                            <div class="time-slider-container">
                                <label for="timeSlider">Time Explorer:</label>
                                <input type="range" id="timeSlider" min="0" max="24" value="12" step="0.5">
                                <div class="time-labels">
                                    <span>Past</span>
                                    <span id="currentTime">12:00</span>
                                    <span>Future</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Traffic Predictions -->
                <div class="predictions-panel">
                    <h3>AI Traffic Predictions</h3>
                    <div class="prediction-cards">
                        <div class="prediction-card">
                            <div class="prediction-time">Next Hour</div>
                            <div class="prediction-status improving">
                                <i class="fas fa-arrow-down"></i>
                                Improving
                            </div>
                            <div class="prediction-details">Traffic expected to decrease by 20%</div>
                        </div>
                        <div class="prediction-card">
                            <div class="prediction-time">Peak (5-7 PM)</div>
                            <div class="prediction-status worsening">
                                <i class="fas fa-arrow-up"></i>
                                Heavy
                            </div>
                            <div class="prediction-details">Congestion may increase by 45%</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings View -->
            <div class="view settings-view" id="settingsView">
                <header class="view-header">
                    <h1 class="page-title">Settings</h1>
                </header>

                <div class="settings-section">
                    <h3>Preferences</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <span>Enable notifications</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="notifications" checked>
                                <span class="slider"></span>
                            </div>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <span>Auto-refresh data</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="autoRefresh" checked>
                                <span class="slider"></span>
                            </div>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <span>Voice alerts</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="voiceAlerts">
                                <span class="slider"></span>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Data & Privacy</h3>
                    <div class="setting-item">
                        <label class="setting-label">
                            <span>Share anonymous usage data</span>
                            <div class="toggle-switch">
                                <input type="checkbox" id="analytics" checked>
                                <span class="slider"></span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </main>

        <!-- Loading Overlay -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <p>Loading traffic data...</p>
        </div>

        <!-- Tooltip -->
        <div class="tooltip" id="tooltip">
            <div class="tooltip-content"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
